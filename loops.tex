\chapter{การใช้ประโยคสั่งทำงานวนซ้ำ}
\section{ฟังก์ชัน  \pyinline{range()}}

ฟังก์ชัน  \pyinline{range()} คือ ระยะตั้งแต่เริ่มต้นถึงก่อนระยะสิ้นสุด มักจะใช้ในการควบคุมการทำงานของโปรแกรมเป็นจำนวนรอบ มีวิธีการเขียนดังนี้  \pyinline{range(start, end)}

\section{คำสั่ง  \pyinline{for}}

คำสั่ง  \pyinline{for} statement เป็นการทำงานซ้ำๆ ตามจำนวนครั้งที่ระบุไว้ เช่น การใช้  \pyinline{for} statement ร่วมกัน  \pyinline{range()} โดยมีรูปแบบการเขียนดังนี้

\begin{codelist}{}{}
for var in sequence:
    # statements
\end{codelist}

Source code:
\begin{codelist}{}{}
for x in range(0,5): print(x)
\end{codelist}

Result:
\begin{codelist}{}{}
>>>
0
1
2
3
4
>>>
\end{codelist}

\section{คำสั่ง  \pyinline{while}}

 \pyinline{while} Statement เป็นคำสั่งให้โปรแกรมทำงานวนซ้ำในขณะที่เงื่อนไขของการวนซ้ำนั้นยังคงเป็นจริงอยู่ และเมื่อเงื่อนไขเป็นเท็จจะสิ้นสุดการทำงานวนซ้ำนั้นทันที ดังนั้นจึงต้องมีตัวควบคุมในการเพิ่มค่าไปเรื่อยๆ จนเงื่อนไขเป็นเท็จ มีลักษณะการเขียนดังนี้

\begin{codelist}{}{}
while expression:
    # satements
\end{codelist}

Source code:
\begin{codelist}{}{}
x = 0
while x < 10:
    print(x)
    x = x + 1
\end{codelist}

Result:
\begin{codelist}{}{}
0
1
2
3
4
5
6
7
8
9
\end{codelist}

\section{คำสั่ง  \pyinline{break}}

คำสั่ง  \pyinline{break} เพื่อให้หลุดการทำงานในลูป

Source code:
\begin{codelist}{}{}
x = 0
while True:
    print(x)
    if x == 10: break
    x = x +1
\end{codelist}

Result:
\begin{codelist}{}{}
0
1
2
3
4
5
6
7
8
9
10
\end{codelist}


\section{ฟังก์ชันที่เรียกตัวเอง (Recursion)}

Recursion คือการเรียกใช้ฟังก์ชันซ้อนฟังก์ชันนั้นๆ เอง หรือ ฟังก์ชันเรียกใช้ตัวมันเอง จากฟังก์ชัน  \pyinline{countdown()} ในตัวอย่าง เมื่อมีการเรียกฟังก์ชัน  \pyinline{countdown(5)} โปรแกรมจะทำงานลดหลั่นลงไปเรื่อยๆ คือตั้งแต่ 5, 4, 3, 2, 1 ตราบเท่าที่ n ยังมากกว่า 0 แต่เมื่อเงื่อนไขเป็นเท็จแล้ว โปรแกรมจะแสดงคำว่า Go! แทน

Source code:
\begin{codelist}{}{}
def countdown(n):
    if x > 0:
        print(n)
        countdown(n-1)
    else:
        print('Go.')
\end{codelist}
Result:
\begin{codelist}{}{}
>>> countdown(5)
5
4
3
2
1
Go.
\end{codelist}


\section{แบบฝึกหัด}
\begin{enumerate} 

\item 	สร้างฟังก์ชันหาค่าของ  $3^1$ + $3^2$ + $3^3$ + $3^4$ + $3^5$  โดยใช้ For loop
\item 	สร้างฟังก์ชันให้ผู้ใช้ป้อนค่า x แล้วนำค่า x มาคำนวณ $x^1$ + $x^2$ + $x^3$ + $x^4$ + $x^5$
\item 	สร้างฟังก์ชันให้ผู้ใช้ป้อนค่า n และให้แสดงเลขเริ่มที่ n โดยลดลงทีละหนึ่ง โดยใช้ while loop
\item 	สร้างฟังก์ชันให้ผู้ใช้ป้อนตัวเลข แล้วหาว่ามีเลขใดที่สามารถหารเลขที่ผู้ใช้ป้อนได้ลงตัว เช่น ผู้ใช้ป้อนตัวเลข 4 จะมี 1 2 4 ที่หารเลข 4 ลงตัว
\item 	สร้างฟังก์ชันคำนวณปีเกิด คศ. เป็น 12 ราศีปีนักษัตร
\item 	สร้างฟังก์ชันรับจำนวนเงินมาหนึ่งค่า แล้วแลกเปลี่ยนธนบัตร 100 บาท 50 บาท 20 บาท เหรียญ 10 บาท 5 บาท และ 1 บาท
\end{enumerate}